"use strict";(self.webpackChunkReportGeneration=self.webpackChunkReportGeneration||[]).push([[316],{316:(w,f,n)=>{n.r(f),n.d(f,{HostsRoutingModule:()=>N});var m=n(4937),b=n(1413),p=n(6977),u=n(980),c=n(5447),r=n(9417),v=n(1699),F=n(6652),C=n(8429),y=n(772),t=n(4438),j=n(6689),k=n(3075),g=n(177),R=n(4056);function H(o,a){if(1&o&&(t.j41(0,"option",25),t.EFF(1),t.k0s()),2&o){const s=a.$implicit;t.Y8G("value",s.value),t.R7$(),t.SpI(" ",s.name," ")}}let E=(()=>{class o{constructor(s,e,i,l,d){this.globalService=s,this.hostsService=e,this.fb=i,this.cdr=l,this.route=d,this.categories=[],this.showError=!1,this.HostList=[],this.closeResult="",this.isLoading=!1,this.errorMsg="",this.destroy$=new b.B,this.isEdit=!1,this.idToEdit=0,this.hostForm=new r.gE({}),this.hostObj={},this.config=y.A}ngOnInit(){this.combineHostCategories(),this.id&&(this.isEdit=!0,this.idToEdit=+this.id,this.getHostData()),this.buildForm()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}getEditorConfig(s){return{...this.config,toolbarHiddenButtons:s?[["bold"],["insertVideo"]]:[["bold"],["insertImage","insertVideo"]]}}buildForm(){this.hostForm=this.fb.group({name:[this.hostObj?.name??"",[r.k0.required]],ip:[this.hostObj?.ip??"",[r.k0.required,r.k0.pattern(/^(\d{1,3}\.){3}\d{1,3}$/)]],status:[this.isEdit?1==this.hostObj.status?1:0:1,[r.k0.required]],category:[this.hostObj?.category,[r.k0.required]],description:[this.hostObj?.description??""]})}combineHostCategories(){this.categories=Object.keys(F.X).filter(s=>isNaN(Number(s))).map(s=>({name:C.V[s],value:F.X[s]})),console.log(this.categories)}cancel(){this.modalRef&&this.modalRef.dismiss("Cancel Clicked")}getErrorMessage(s,e){let i="";return i=this.globalService.getErrorMessage(this.hostForm,s,e),i}getHostData(){this.isLoading=!0,this.hostsService.getHostData(this.idToEdit).pipe((0,p.Q)(this.destroy$),(0,u.j)(()=>{this.isLoading=!1})).subscribe({next:s=>{console.log(s),this.hostObj=s,this.buildForm()},error:s=>console.error(s),complete:()=>console.info("complete")})}submit(){this.showError=!1,this.errorMsg="",this.hostForm.valid?(this.isLoading=!0,this.hostObj.name=this.hostForm.controls.name.value,this.hostObj.ip=this.hostForm.controls.ip.value,this.hostObj.status=1==this.hostForm.controls.status.value?1:0,this.hostObj.category=this.hostForm.controls.category.value,this.hostObj.description=this.hostForm.controls.description.value,this.hostObj.createdId=this.globalService.getUserId(),this.isEdit?(this.hostObj.id=this.idToEdit,this.hostObj.UpdatedId=this.globalService.getUserId(),this.hostObj.updatedDate=(new Date).getTime(),this.hostsService.editHosts(this.hostObj).pipe((0,p.Q)(this.destroy$),(0,u.j)(()=>{this.isLoading=!1})).subscribe({next:s=>{console.log(s),s?(this.globalService.showAlert("Success","Host Address updated successfully!"),this.modalRef&&this.modalRef.close("Form Submitted")):(this.showError=!0,this.errorMsg="Unable to update Host Address!",this.globalService.showAlert("Error","Unable to update Host Address!"))},error:s=>{console.error(s),this.showError=!0;let e=s?.error?.message?s?.error?.message:"Error in updating Host Address!";e=this.globalService.beautifyErrorMsg(e),this.errorMsg=e,this.globalService.showAlert("Error",e)},complete:()=>console.info("complete")})):(this.hostObj.createdDate=(new Date).getTime(),this.hostsService.addHosts(this.hostObj).pipe((0,p.Q)(this.destroy$),(0,u.j)(()=>{this.isLoading=!1})).subscribe({next:s=>{console.log(s),this.globalService.showAlert("success","Successfully Submitted!"),this.modalRef&&this.modalRef.close("Form Submitted")},error:s=>{let e;console.error(s),409==s.status?(e=s.error?.message||"Duplicate IP Address or Duplicate Host Name.",this.globalService.showAlert("error",e)):500==s.status&&this.globalService.showAlert("500","Oops! There was an error while processing your request")},complete:()=>console.info("complete")}))):this.globalService.showAlert("Error","Please enter all mandatory fields!")}static{this.\u0275fac=function(e){return new(e||o)(t.rXU(j.d),t.rXU(k.F),t.rXU(r.ok),t.rXU(t.gRc),t.rXU(m.nX))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-hosts-add"]],inputs:{modalRef:"modalRef",id:"id"},standalone:!0,features:[t.aNF],decls:43,vars:7,consts:[[3,"ngSubmit","formGroup"],[1,"row","mt-3"],[1,"col-md-4","col-lg-3","col-sm-6","col-xs-6"],[1,"floating-label-group"],["type","text","required","","formControlName","name","autocomplete","on",1,"form-control"],["for","name",1,"floating-label","required"],[1,"errormessage"],["type","text","required","","formControlName","ip","autocomplete","on",1,"form-control"],["for","ip",1,"floating-label","required"],["id","category","formControlName","category",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group-append","showCursor"],[1,"fa","fa-angle-down"],["for","category",1,"floating-label"],[1,"toggle-switch-container"],[1,"switch"],["type","checkbox","formControlName","status"],[1,"slider"],[1,"label"],[1,"row"],["for","description",1,"label","required"],["formControlName","description",3,"config"],[1,"col-md-12","text-center"],["type","reset",1,"btn-closed",3,"click"],["type","submit",1,"btn-submit-all",3,"disabled"],[3,"value"]],template:function(e,i){1&e&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return i.submit()}),t.j41(1,"div",1)(2,"div",2)(3,"div",3),t.nrm(4,"input",4),t.j41(5,"label",5),t.EFF(6,"Host Name"),t.k0s(),t.j41(7,"small",6),t.EFF(8),t.k0s()()(),t.j41(9,"div",2)(10,"div",3),t.nrm(11,"input",7),t.j41(12,"label",8),t.EFF(13,"Ip Address"),t.k0s(),t.j41(14,"small",6),t.EFF(15),t.k0s()()(),t.j41(16,"div",2)(17,"div",3)(18,"select",9),t.DNE(19,H,2,2,"option",10),t.k0s(),t.j41(20,"div",11),t.nrm(21,"i",12),t.k0s(),t.j41(22,"label",13),t.EFF(23,"Category"),t.k0s(),t.j41(24,"small",6),t.EFF(25),t.k0s()()(),t.j41(26,"div",2)(27,"div",14)(28,"label",15),t.nrm(29,"input",16)(30,"span",17),t.k0s(),t.j41(31,"span",18),t.EFF(32,"Active"),t.k0s()()(),t.j41(33,"div",19)(34,"label",20),t.EFF(35,"Description"),t.k0s(),t.nrm(36,"angular-editor",21),t.k0s()(),t.j41(37,"div",1)(38,"div",22)(39,"button",23),t.bIt("click",function(){return i.cancel()}),t.EFF(40,"Cancel"),t.k0s(),t.j41(41,"button",24),t.EFF(42,"Submit"),t.k0s()()()()),2&e&&(t.Y8G("formGroup",i.hostForm),t.R7$(8),t.JRh(i.getErrorMessage("name","Host Name")),t.R7$(7),t.JRh(i.getErrorMessage("ip","Ip Address")),t.R7$(4),t.Y8G("ngForOf",i.categories),t.R7$(6),t.JRh(i.getErrorMessage("category","Category")),t.R7$(11),t.Y8G("config",i.getEditorConfig(!1)),t.R7$(5),t.Y8G("disabled",!i.hostForm.valid||i.isLoading))},dependencies:[v.G,g.Sq,r.qT,r.xH,r.y7,r.me,r.Zm,r.wz,r.BC,r.cb,r.YS,r.j4,r.JD,R.Rj]})}}return o})();var S=n(1530),$=n(8278);function A(o,a){if(1&o&&(t.j41(0,"tr")(1,"td",23),t.EFF(2),t.k0s()()),2&o){const s=t.XpG();t.R7$(2),t.JRh(s.isLoading?"Please wait while loading..":"No Host Address found..")}}function L(o,a){1&o&&t.nrm(0,"div",29)}function D(o,a){1&o&&t.nrm(0,"div",30)}function T(o,a){if(1&o){const s=t.RV6();t.j41(0,"tr")(1,"td")(2,"span"),t.DNE(3,L,1,0,"div",24)(4,D,1,0,"div",25),t.k0s()(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.nrm(11,"td",26),t.j41(12,"td"),t.EFF(13),t.nI1(14,"dateTimeFormat"),t.k0s(),t.j41(15,"td")(16,"button",27),t.bIt("click",function(){const i=t.eBV(s).$implicit,l=t.XpG(),d=t.sdS(43);return t.Njj(l.OpenAddHosts(d,"xl",i.id))}),t.nrm(17,"img",28),t.k0s()()()}if(2&o){const s=a.$implicit,e=t.XpG();t.R7$(3),t.Y8G("ngIf",1==s.status),t.R7$(),t.Y8G("ngIf",0==s.status),t.R7$(2),t.JRh(e.globalService.getCategoryLabel(s.category)),t.R7$(2),t.JRh(s.name),t.R7$(2),t.JRh(s.ip),t.R7$(),t.Y8G("innerHtml",s.description,t.npT),t.R7$(2),t.JRh(t.i5U(14,7,s.createdDate,"dd-MM-yyyy"))}}function _(o,a){if(1&o){const s=t.RV6();t.j41(0,"div",31)(1,"div",32)(2,"h4",33),t.EFF(3,"Host Address Details"),t.k0s(),t.j41(4,"button",34),t.bIt("click",function(){const i=t.eBV(s).$implicit;return t.Njj(i.dismiss("Cross click"))}),t.k0s()(),t.j41(5,"div",35)(6,"div",36)(7,"div",37),t.EFF(8,"Host Nmae"),t.k0s(),t.j41(9,"div",38),t.EFF(10,":"),t.k0s(),t.j41(11,"div",39),t.EFF(12),t.k0s()(),t.j41(13,"div",36)(14,"div",37),t.EFF(15,"IP Address"),t.k0s(),t.j41(16,"div",38),t.EFF(17,":"),t.k0s(),t.j41(18,"div",39),t.EFF(19),t.k0s()(),t.j41(20,"div",36)(21,"div",37),t.EFF(22,"Description"),t.k0s(),t.j41(23,"div",38),t.EFF(24,":"),t.k0s(),t.j41(25,"div",39),t.EFF(26),t.k0s()(),t.j41(27,"div",36)(28,"div",37),t.EFF(29,"Created Date"),t.k0s(),t.j41(30,"div",38),t.EFF(31,":"),t.k0s(),t.j41(32,"div",39),t.EFF(33),t.nI1(34,"date"),t.k0s()()(),t.j41(35,"div",40)(36,"button",41),t.bIt("click",function(){const i=t.eBV(s).$implicit;return t.Njj(i.dismiss())}),t.EFF(37," close "),t.k0s()()()}if(2&o){let s;const e=t.XpG();t.R7$(12),t.JRh(null!==(s=null==e.hostDetails?null:e.hostDetails.name)&&void 0!==s?s:"Not specified"),t.R7$(7),t.JRh(null==e.hostDetails?null:e.hostDetails.ip),t.R7$(7),t.JRh(null==e.hostDetails?null:e.hostDetails.description),t.R7$(7),t.JRh(t.i5U(34,4,null==e.hostDetails?null:e.hostDetails.createdDate,"medium"))}}function I(o,a){if(1&o){const s=t.RV6();t.j41(0,"div",32)(1,"h4",42),t.EFF(2,"Add Host Address Details"),t.k0s(),t.j41(3,"button",34),t.bIt("click",function(){const i=t.eBV(s).$implicit;return t.Njj(i.dismiss("Cross click"))}),t.k0s()(),t.j41(4,"div",35),t.nrm(5,"app-hosts-add",43),t.k0s()}if(2&o){const s=a.$implicit,e=t.XpG();t.R7$(5),t.Y8G("modalRef",s)("id",e.idToEdit)}}const O=[{path:"",component:(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-hosts"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(e,i){1&e&&t.nrm(0,"router-outlet")},dependencies:[m.n3]})}}return o})(),children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class o{constructor(s,e,i,l,d){this.globalService=s,this.hostsService=e,this.spinner=i,this.modalService=l,this.cdr=d,this.showSort=!0,this.accordionVisibility=[],this.currentIndex=0,this.showError=!1,this.isLoading=!1,this.closeResult="",this.destroy$=new b.B,this.hostsList=[],this.paginationRequest={},this.paginationResponseData={},this.pageLimits=this.globalService.getPageLimits()}ngOnInit(){this.getAllHostList()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}searchMatchedData(){this.destroy$.next(!0),this.getAllHostList()}getAllHostList(){this.isLoading=!0,this.spinner.start(),this.hostsService.getHostsList().pipe((0,p.Q)(this.destroy$),(0,u.j)(()=>{this.isLoading=!1,this.spinner.stop()})).subscribe({next:s=>{this.hostsList=s,this.cdr.detectChanges()},error:s=>console.error(s),complete:()=>console.info("complete")})}OpenAddHosts(s,e,i){this.idToEdit=i||null,this.modalService.open(s,{ariaLabelledBy:"modal-basic-title",size:e,backdrop:"static",keyboard:!1}).result.then(l=>{this.closeResult=`Closed with: ${l}`,this.getAllHostList()},l=>{this.closeResult=`Dismissed ${this.getDismissReason(l)}`})}getDismissReason(s){return s===c.PQ.ESC?"by pressing ESC":s===c.PQ.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${s}`}static{this.\u0275fac=function(e){return new(e||o)(t.rXU(j.d),t.rXU(k.F),t.rXU(S.eD),t.rXU(c.Bq),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-hosts-list"]],standalone:!0,features:[t.aNF],decls:44,vars:4,consts:[["content",""],["addHost",""],[1,"content-cand"],[1,"container-bg"],[1,"row","m-b-10","m-0"],[1,"search-section","template-filter-section"],[1,"template-filter-left-section"],[1,"template-sub-section"],[1,"floating-label-group"],["type","text","required","",1,"form-control",3,"ngModelChange","keyup","ngModel"],["for","search",1,"floating-label"],[1,"input-group-append","showCursor"],["ngbPopover","Search with Category","placement","bottom","popoverClass","textboxPopoverCls",1,"fas","fa-info-circle","fontawsome-icon",3,"autoClose"],[1,"template-filter-right-section"],["ngbTooltip","Click to Add Host Address",1,"btn","btn-add-users",3,"click"],[1,"fas","fa-plus","fontawsome-icon",2,"font-size","12px"],[1,"content-report","m-b-2"],[1,"content-reportlist"],[1,"card"],[1,"table-responsive"],[1,"table","table-theme","table-row","v-middle"],[4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","9"],["class","host_status_true_color","ngbTooltip","Active",4,"ngIf"],["class","host_status_false_color","ngbTooltip","InActive",4,"ngIf"],[3,"innerHtml"],["type","button",1,"edit-icon",3,"click"],["src","assets/images/icons/Edit.svg","ngbTooltip","Edit",1,"icons_default_size"],["ngbTooltip","Active",1,"host_status_true_color"],["ngbTooltip","InActive",1,"host_status_false_color"],[1,"modal-content",2,"width","100%"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"info-row"],[1,"label"],[1,"colon"],[1,"value"],[1,"modal-footer","justify-content-center"],["type","button",1,"btn-danger","btn-sm",2,"padding","5px",3,"click"],["id","modal-basic-title",1,"modal-title"],[3,"modalRef","id"]],template:function(e,i){if(1&e){const l=t.RV6();t.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"input",9),t.mxI("ngModelChange",function(h){return t.eBV(l),t.DH7(i.searchText,h)||(i.searchText=h),t.Njj(h)}),t.bIt("keyup",function(){return t.eBV(l),t.Njj(i.searchMatchedData())}),t.k0s(),t.j41(8,"label",10),t.EFF(9,"Search"),t.k0s(),t.j41(10,"div",11),t.nrm(11,"i",12),t.k0s()()()(),t.j41(12,"div",13)(13,"button",14),t.bIt("click",function(){t.eBV(l);const h=t.sdS(43);return t.Njj(i.OpenAddHosts(h,"xl"))}),t.nrm(14,"i",15),t.EFF(15," Add Host Address "),t.k0s()()(),t.j41(16,"div",16),t.nrm(17,"hr"),t.j41(18,"div",17)(19,"div",18)(20,"div",19)(21,"table",20)(22,"thead")(23,"tr"),t.nrm(24,"th"),t.j41(25,"th"),t.EFF(26,"Category"),t.k0s(),t.j41(27,"th"),t.EFF(28,"Host Name"),t.k0s(),t.j41(29,"th"),t.EFF(30,"IP Address"),t.k0s(),t.j41(31,"th"),t.EFF(32,"Description"),t.k0s(),t.j41(33,"th"),t.EFF(34,"Created Date"),t.k0s(),t.j41(35,"th"),t.EFF(36,"Action"),t.k0s()()(),t.j41(37,"tbody"),t.DNE(38,A,3,1,"tr",21)(39,T,18,10,"tr",22),t.k0s()()()()()()()()(),t.DNE(40,_,38,7,"ng-template",null,0,t.C5r)(42,I,6,2,"ng-template",null,1,t.C5r)}2&e&&(t.R7$(7),t.R50("ngModel",i.searchText),t.R7$(4),t.Y8G("autoClose","outside"),t.R7$(27),t.Y8G("ngIf",!i.hostsList||!(null!=i.hostsList&&i.hostsList.length)),t.R7$(),t.Y8G("ngForOf",i.hostsList))},dependencies:[v.G,g.Sq,g.bT,r.me,r.BC,r.YS,r.vS,c.ZM,c.md,$.V,g.vh,E]})}}return o})()},{path:"add",component:E}]}];let N=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[m.iI.forChild(O),m.iI]})}}return o})()}}]);